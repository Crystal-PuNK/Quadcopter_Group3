ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ATKBLE01.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.BLE_Init,"ax",%progbits
  20              		.align	1
  21              		.global	BLE_Init
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	BLE_Init:
  27              	.LFB126:
  28              		.file 1 "./Hardware/ATKBLE01.c"
   1:./Hardware/ATKBLE01.c **** #include "ATKBLE01.h"
   2:./Hardware/ATKBLE01.c **** 
   3:./Hardware/ATKBLE01.c **** /* Private Functions -------------------------------------------------------------------*/
   4:./Hardware/ATKBLE01.c **** void USART1_SendByte(uint8_t Byte);
   5:./Hardware/ATKBLE01.c **** 
   6:./Hardware/ATKBLE01.c **** 
   7:./Hardware/ATKBLE01.c **** //
   8:./Hardware/ATKBLE01.c **** /*********************************************************************************
   9:./Hardware/ATKBLE01.c ****  *USART的初始化，包括
  10:./Hardware/ATKBLE01.c ****  * -GPIO和USART时钟源
  11:./Hardware/ATKBLE01.c ****  * -GPIO初始化
  12:./Hardware/ATKBLE01.c ****  *    -PA9(TX) PC7(3.3v)
  13:./Hardware/ATKBLE01.c ****  *    -复用功能
  14:./Hardware/ATKBLE01.c ****  *    -复用推挽输出
  15:./Hardware/ATKBLE01.c ****  *    -默认上拉
  16:./Hardware/ATKBLE01.c ****  * -AFIO复用功能初始化
  17:./Hardware/ATKBLE01.c ****  * -USART初始化
  18:./Hardware/ATKBLE01.c ****  *   -波特率115200
  19:./Hardware/ATKBLE01.c ****  *   -数据位长度8bit
  20:./Hardware/ATKBLE01.c ****  *   -一个停止位
  21:./Hardware/ATKBLE01.c ****  *   -无校验位
  22:./Hardware/ATKBLE01.c ****  *   -无硬件流控制
  23:./Hardware/ATKBLE01.c ****  *   -发送模式
  24:./Hardware/ATKBLE01.c ****  * -使能USART
  25:./Hardware/ATKBLE01.c ****  ********************************************************************************/ 
  26:./Hardware/ATKBLE01.c **** void BLE_Init(void)
  27:./Hardware/ATKBLE01.c ****  {
  29              		.loc 1 27 2
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 24
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s 			page 2


  32              		@ frame_needed = 1, uses_anonymous_args = 0
  33 0000 80B5     		push	{r7, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 7, -8
  37              		.cfi_offset 14, -4
  38 0002 86B0     		sub	sp, sp, #24
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 32
  41 0004 00AF     		add	r7, sp, #0
  42              	.LCFI2:
  43              		.cfi_def_cfa_register 7
  28:./Hardware/ATKBLE01.c **** 	 RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOA,  ENABLE);
  44              		.loc 1 28 3
  45 0006 0121     		movs	r1, #1
  46 0008 0120     		movs	r0, #1
  47 000a FFF7FEFF 		bl	RCC_AHB1PeriphClockCmd
  29:./Hardware/ATKBLE01.c **** 	 RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOC,  ENABLE);
  48              		.loc 1 29 3
  49 000e 0121     		movs	r1, #1
  50 0010 0420     		movs	r0, #4
  51 0012 FFF7FEFF 		bl	RCC_AHB1PeriphClockCmd
  30:./Hardware/ATKBLE01.c **** 	 RCC_APB2PeriphClockCmd(RCC_APB2Periph_USART1, ENABLE);
  52              		.loc 1 30 3
  53 0016 0121     		movs	r1, #1
  54 0018 1020     		movs	r0, #16
  55 001a FFF7FEFF 		bl	RCC_APB2PeriphClockCmd
  31:./Hardware/ATKBLE01.c **** 	 
  32:./Hardware/ATKBLE01.c **** 	 GPIO_InitTypeDef GPIO_InitStructure;
  33:./Hardware/ATKBLE01.c **** 	 GPIO_InitStructure.GPIO_Pin = GPIO_Pin_9;
  56              		.loc 1 33 31
  57 001e 4FF40073 		mov	r3, #512
  58 0022 3B61     		str	r3, [r7, #16]
  34:./Hardware/ATKBLE01.c **** 	 GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;
  59              		.loc 1 34 32
  60 0024 0223     		movs	r3, #2
  61 0026 3B75     		strb	r3, [r7, #20]
  35:./Hardware/ATKBLE01.c **** 	 GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
  62              		.loc 1 35 33
  63 0028 0023     		movs	r3, #0
  64 002a BB75     		strb	r3, [r7, #22]
  36:./Hardware/ATKBLE01.c **** 	 GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  65              		.loc 1 36 33
  66 002c 0223     		movs	r3, #2
  67 002e 7B75     		strb	r3, [r7, #21]
  37:./Hardware/ATKBLE01.c **** 	 GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;
  68              		.loc 1 37 32
  69 0030 0123     		movs	r3, #1
  70 0032 FB75     		strb	r3, [r7, #23]
  38:./Hardware/ATKBLE01.c **** 	 GPIO_Init(GPIOA,&GPIO_InitStructure);
  71              		.loc 1 38 3
  72 0034 07F11003 		add	r3, r7, #16
  73 0038 1946     		mov	r1, r3
  74 003a 1B48     		ldr	r0, .L2
  75 003c FFF7FEFF 		bl	GPIO_Init
  39:./Hardware/ATKBLE01.c **** 	 GPIO_PinAFConfig(GPIOA,GPIO_PinSource9,GPIO_AF_USART1);
  76              		.loc 1 39 3
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s 			page 3


  77 0040 0722     		movs	r2, #7
  78 0042 0921     		movs	r1, #9
  79 0044 1848     		ldr	r0, .L2
  80 0046 FFF7FEFF 		bl	GPIO_PinAFConfig
  40:./Hardware/ATKBLE01.c **** 	 
  41:./Hardware/ATKBLE01.c **** 	 GPIO_InitStructure.GPIO_Pin = GPIO_Pin_7;
  81              		.loc 1 41 31
  82 004a 8023     		movs	r3, #128
  83 004c 3B61     		str	r3, [r7, #16]
  42:./Hardware/ATKBLE01.c **** 	 GPIO_InitStructure.GPIO_Mode = GPIO_Mode_OUT;
  84              		.loc 1 42 32
  85 004e 0123     		movs	r3, #1
  86 0050 3B75     		strb	r3, [r7, #20]
  43:./Hardware/ATKBLE01.c **** 	 GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
  87              		.loc 1 43 33
  88 0052 0023     		movs	r3, #0
  89 0054 BB75     		strb	r3, [r7, #22]
  44:./Hardware/ATKBLE01.c **** 	 GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  90              		.loc 1 44 33
  91 0056 0223     		movs	r3, #2
  92 0058 7B75     		strb	r3, [r7, #21]
  45:./Hardware/ATKBLE01.c **** 	 GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;
  93              		.loc 1 45 32
  94 005a 0123     		movs	r3, #1
  95 005c FB75     		strb	r3, [r7, #23]
  46:./Hardware/ATKBLE01.c **** 	 GPIO_Init(GPIOC,&GPIO_InitStructure);
  96              		.loc 1 46 3
  97 005e 07F11003 		add	r3, r7, #16
  98 0062 1946     		mov	r1, r3
  99 0064 1148     		ldr	r0, .L2+4
 100 0066 FFF7FEFF 		bl	GPIO_Init
  47:./Hardware/ATKBLE01.c **** 	 GPIO_SetBits(GPIOC,GPIO_Pin_7);
 101              		.loc 1 47 3
 102 006a 8021     		movs	r1, #128
 103 006c 0F48     		ldr	r0, .L2+4
 104 006e FFF7FEFF 		bl	GPIO_SetBits
  48:./Hardware/ATKBLE01.c **** 
  49:./Hardware/ATKBLE01.c **** 	 
  50:./Hardware/ATKBLE01.c **** 	 USART_InitTypeDef USART_InitStructure;
  51:./Hardware/ATKBLE01.c **** 	 USART_InitStructure.USART_BaudRate = 115200;
 105              		.loc 1 51 38
 106 0072 4FF4E133 		mov	r3, #115200
 107 0076 3B60     		str	r3, [r7]
  52:./Hardware/ATKBLE01.c **** 	 USART_InitStructure.USART_WordLength = USART_WordLength_8b;
 108              		.loc 1 52 40
 109 0078 0023     		movs	r3, #0
 110 007a BB80     		strh	r3, [r7, #4]	@ movhi
  53:./Hardware/ATKBLE01.c **** 	 USART_InitStructure.USART_StopBits = USART_StopBits_1;
 111              		.loc 1 53 38
 112 007c 0023     		movs	r3, #0
 113 007e FB80     		strh	r3, [r7, #6]	@ movhi
  54:./Hardware/ATKBLE01.c **** 	 USART_InitStructure.USART_Parity = USART_Parity_No;
 114              		.loc 1 54 36
 115 0080 0023     		movs	r3, #0
 116 0082 3B81     		strh	r3, [r7, #8]	@ movhi
  55:./Hardware/ATKBLE01.c **** 	 USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
 117              		.loc 1 55 49
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s 			page 4


 118 0084 0023     		movs	r3, #0
 119 0086 BB81     		strh	r3, [r7, #12]	@ movhi
  56:./Hardware/ATKBLE01.c **** 	 USART_InitStructure.USART_Mode = USART_Mode_Tx;
 120              		.loc 1 56 34
 121 0088 0823     		movs	r3, #8
 122 008a 7B81     		strh	r3, [r7, #10]	@ movhi
  57:./Hardware/ATKBLE01.c **** 	 USART_Init(USART1,&USART_InitStructure);
 123              		.loc 1 57 3
 124 008c 3B46     		mov	r3, r7
 125 008e 1946     		mov	r1, r3
 126 0090 0748     		ldr	r0, .L2+8
 127 0092 FFF7FEFF 		bl	USART_Init
  58:./Hardware/ATKBLE01.c **** 	 USART_Cmd(USART1,ENABLE);
 128              		.loc 1 58 3
 129 0096 0121     		movs	r1, #1
 130 0098 0548     		ldr	r0, .L2+8
 131 009a FFF7FEFF 		bl	USART_Cmd
  59:./Hardware/ATKBLE01.c **** 	 	 
  60:./Hardware/ATKBLE01.c ****  }
 132              		.loc 1 60 2
 133 009e 00BF     		nop
 134 00a0 1837     		adds	r7, r7, #24
 135              	.LCFI3:
 136              		.cfi_def_cfa_offset 8
 137 00a2 BD46     		mov	sp, r7
 138              	.LCFI4:
 139              		.cfi_def_cfa_register 13
 140              		@ sp needed
 141 00a4 80BD     		pop	{r7, pc}
 142              	.L3:
 143 00a6 00BF     		.align	2
 144              	.L2:
 145 00a8 00000240 		.word	1073872896
 146 00ac 00080240 		.word	1073874944
 147 00b0 00100140 		.word	1073811456
 148              		.cfi_endproc
 149              	.LFE126:
 151              		.section	.text.USART1_SendByte,"ax",%progbits
 152              		.align	1
 153              		.global	USART1_SendByte
 154              		.syntax unified
 155              		.thumb
 156              		.thumb_func
 158              	USART1_SendByte:
 159              	.LFB127:
  61:./Hardware/ATKBLE01.c **** 
  62:./Hardware/ATKBLE01.c **** 
  63:./Hardware/ATKBLE01.c ****  
  64:./Hardware/ATKBLE01.c **** void USART1_SendByte(uint8_t Byte)
  65:./Hardware/ATKBLE01.c **** {
 160              		.loc 1 65 1
 161              		.cfi_startproc
 162              		@ args = 0, pretend = 0, frame = 8
 163              		@ frame_needed = 1, uses_anonymous_args = 0
 164 0000 80B5     		push	{r7, lr}
 165              	.LCFI5:
 166              		.cfi_def_cfa_offset 8
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s 			page 5


 167              		.cfi_offset 7, -8
 168              		.cfi_offset 14, -4
 169 0002 82B0     		sub	sp, sp, #8
 170              	.LCFI6:
 171              		.cfi_def_cfa_offset 16
 172 0004 00AF     		add	r7, sp, #0
 173              	.LCFI7:
 174              		.cfi_def_cfa_register 7
 175 0006 0346     		mov	r3, r0
 176 0008 FB71     		strb	r3, [r7, #7]
  66:./Hardware/ATKBLE01.c **** 	USART_SendData(USART1, Byte);
 177              		.loc 1 66 2
 178 000a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 179 000c 9BB2     		uxth	r3, r3
 180 000e 1946     		mov	r1, r3
 181 0010 0748     		ldr	r0, .L6
 182 0012 FFF7FEFF 		bl	USART_SendData
  67:./Hardware/ATKBLE01.c **** 	while (USART_GetFlagStatus(USART1, USART_FLAG_TXE) == RESET); //等待TDR中的数据完全移到移位寄存器
 183              		.loc 1 67 8
 184 0016 00BF     		nop
 185              	.L5:
 186              		.loc 1 67 9 discriminator 1
 187 0018 8021     		movs	r1, #128
 188 001a 0548     		ldr	r0, .L6
 189 001c FFF7FEFF 		bl	USART_GetFlagStatus
 190 0020 0346     		mov	r3, r0
 191              		.loc 1 67 8 discriminator 1
 192 0022 002B     		cmp	r3, #0
 193 0024 F8D0     		beq	.L5
  68:./Hardware/ATKBLE01.c **** }
 194              		.loc 1 68 1
 195 0026 00BF     		nop
 196 0028 00BF     		nop
 197 002a 0837     		adds	r7, r7, #8
 198              	.LCFI8:
 199              		.cfi_def_cfa_offset 8
 200 002c BD46     		mov	sp, r7
 201              	.LCFI9:
 202              		.cfi_def_cfa_register 13
 203              		@ sp needed
 204 002e 80BD     		pop	{r7, pc}
 205              	.L7:
 206              		.align	2
 207              	.L6:
 208 0030 00100140 		.word	1073811456
 209              		.cfi_endproc
 210              	.LFE127:
 212              		.section	.text.BLE_SendArray,"ax",%progbits
 213              		.align	1
 214              		.global	BLE_SendArray
 215              		.syntax unified
 216              		.thumb
 217              		.thumb_func
 219              	BLE_SendArray:
 220              	.LFB128:
  69:./Hardware/ATKBLE01.c **** 
  70:./Hardware/ATKBLE01.c **** void BLE_SendArray(uint8_t *Array, uint16_t Length)
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s 			page 6


  71:./Hardware/ATKBLE01.c **** {
 221              		.loc 1 71 1
 222              		.cfi_startproc
 223              		@ args = 0, pretend = 0, frame = 16
 224              		@ frame_needed = 1, uses_anonymous_args = 0
 225 0000 80B5     		push	{r7, lr}
 226              	.LCFI10:
 227              		.cfi_def_cfa_offset 8
 228              		.cfi_offset 7, -8
 229              		.cfi_offset 14, -4
 230 0002 84B0     		sub	sp, sp, #16
 231              	.LCFI11:
 232              		.cfi_def_cfa_offset 24
 233 0004 00AF     		add	r7, sp, #0
 234              	.LCFI12:
 235              		.cfi_def_cfa_register 7
 236 0006 7860     		str	r0, [r7, #4]
 237 0008 0B46     		mov	r3, r1
 238 000a 7B80     		strh	r3, [r7, #2]	@ movhi
  72:./Hardware/ATKBLE01.c **** 	uint16_t i;
  73:./Hardware/ATKBLE01.c **** 	for (i = 0; i < Length; i ++)
 239              		.loc 1 73 9
 240 000c 0023     		movs	r3, #0
 241 000e FB81     		strh	r3, [r7, #14]	@ movhi
 242              		.loc 1 73 2
 243 0010 09E0     		b	.L9
 244              	.L10:
  74:./Hardware/ATKBLE01.c **** 	{
  75:./Hardware/ATKBLE01.c **** 		USART1_SendByte(Array[i]);
 245              		.loc 1 75 24 discriminator 3
 246 0012 FB89     		ldrh	r3, [r7, #14]
 247 0014 7A68     		ldr	r2, [r7, #4]
 248 0016 1344     		add	r3, r3, r2
 249              		.loc 1 75 3 discriminator 3
 250 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 251 001a 1846     		mov	r0, r3
 252 001c FFF7FEFF 		bl	USART1_SendByte
  73:./Hardware/ATKBLE01.c **** 	{
 253              		.loc 1 73 28 discriminator 3
 254 0020 FB89     		ldrh	r3, [r7, #14]
 255 0022 0133     		adds	r3, r3, #1
 256 0024 FB81     		strh	r3, [r7, #14]	@ movhi
 257              	.L9:
  73:./Hardware/ATKBLE01.c **** 	{
 258              		.loc 1 73 2 discriminator 1
 259 0026 FA89     		ldrh	r2, [r7, #14]
 260 0028 7B88     		ldrh	r3, [r7, #2]
 261 002a 9A42     		cmp	r2, r3
 262 002c F1D3     		bcc	.L10
  76:./Hardware/ATKBLE01.c **** 	}
  77:./Hardware/ATKBLE01.c **** }
 263              		.loc 1 77 1
 264 002e 00BF     		nop
 265 0030 00BF     		nop
 266 0032 1037     		adds	r7, r7, #16
 267              	.LCFI13:
 268              		.cfi_def_cfa_offset 8
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s 			page 7


 269 0034 BD46     		mov	sp, r7
 270              	.LCFI14:
 271              		.cfi_def_cfa_register 13
 272              		@ sp needed
 273 0036 80BD     		pop	{r7, pc}
 274              		.cfi_endproc
 275              	.LFE128:
 277              		.section	.text.BLE_SendString,"ax",%progbits
 278              		.align	1
 279              		.global	BLE_SendString
 280              		.syntax unified
 281              		.thumb
 282              		.thumb_func
 284              	BLE_SendString:
 285              	.LFB129:
  78:./Hardware/ATKBLE01.c **** 
  79:./Hardware/ATKBLE01.c **** void BLE_SendString(char *String)
  80:./Hardware/ATKBLE01.c **** {
 286              		.loc 1 80 1
 287              		.cfi_startproc
 288              		@ args = 0, pretend = 0, frame = 16
 289              		@ frame_needed = 1, uses_anonymous_args = 0
 290 0000 80B5     		push	{r7, lr}
 291              	.LCFI15:
 292              		.cfi_def_cfa_offset 8
 293              		.cfi_offset 7, -8
 294              		.cfi_offset 14, -4
 295 0002 84B0     		sub	sp, sp, #16
 296              	.LCFI16:
 297              		.cfi_def_cfa_offset 24
 298 0004 00AF     		add	r7, sp, #0
 299              	.LCFI17:
 300              		.cfi_def_cfa_register 7
 301 0006 7860     		str	r0, [r7, #4]
  81:./Hardware/ATKBLE01.c **** 	uint8_t i;
  82:./Hardware/ATKBLE01.c **** 	for (i = 0; String[i] != '\0'; i ++)
 302              		.loc 1 82 9
 303 0008 0023     		movs	r3, #0
 304 000a FB73     		strb	r3, [r7, #15]
 305              		.loc 1 82 2
 306 000c 09E0     		b	.L12
 307              	.L13:
  83:./Hardware/ATKBLE01.c **** 	{
  84:./Hardware/ATKBLE01.c **** 		USART1_SendByte(String[i]);
 308              		.loc 1 84 25 discriminator 3
 309 000e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 310 0010 7A68     		ldr	r2, [r7, #4]
 311 0012 1344     		add	r3, r3, r2
 312              		.loc 1 84 3 discriminator 3
 313 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 314 0016 1846     		mov	r0, r3
 315 0018 FFF7FEFF 		bl	USART1_SendByte
  82:./Hardware/ATKBLE01.c **** 	{
 316              		.loc 1 82 35 discriminator 3
 317 001c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 318 001e 0133     		adds	r3, r3, #1
 319 0020 FB73     		strb	r3, [r7, #15]
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s 			page 8


 320              	.L12:
  82:./Hardware/ATKBLE01.c **** 	{
 321              		.loc 1 82 20 discriminator 1
 322 0022 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 323 0024 7A68     		ldr	r2, [r7, #4]
 324 0026 1344     		add	r3, r3, r2
 325 0028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  82:./Hardware/ATKBLE01.c **** 	{
 326              		.loc 1 82 2 discriminator 1
 327 002a 002B     		cmp	r3, #0
 328 002c EFD1     		bne	.L13
  85:./Hardware/ATKBLE01.c **** 	}
  86:./Hardware/ATKBLE01.c **** }
 329              		.loc 1 86 1
 330 002e 00BF     		nop
 331 0030 00BF     		nop
 332 0032 1037     		adds	r7, r7, #16
 333              	.LCFI18:
 334              		.cfi_def_cfa_offset 8
 335 0034 BD46     		mov	sp, r7
 336              	.LCFI19:
 337              		.cfi_def_cfa_register 13
 338              		@ sp needed
 339 0036 80BD     		pop	{r7, pc}
 340              		.cfi_endproc
 341              	.LFE129:
 343              		.section	.text.BLE_Pow,"ax",%progbits
 344              		.align	1
 345              		.global	BLE_Pow
 346              		.syntax unified
 347              		.thumb
 348              		.thumb_func
 350              	BLE_Pow:
 351              	.LFB130:
  87:./Hardware/ATKBLE01.c **** 
  88:./Hardware/ATKBLE01.c **** uint32_t BLE_Pow(uint32_t X, uint32_t Y)
  89:./Hardware/ATKBLE01.c **** {
 352              		.loc 1 89 1
 353              		.cfi_startproc
 354              		@ args = 0, pretend = 0, frame = 16
 355              		@ frame_needed = 1, uses_anonymous_args = 0
 356              		@ link register save eliminated.
 357 0000 80B4     		push	{r7}
 358              	.LCFI20:
 359              		.cfi_def_cfa_offset 4
 360              		.cfi_offset 7, -4
 361 0002 85B0     		sub	sp, sp, #20
 362              	.LCFI21:
 363              		.cfi_def_cfa_offset 24
 364 0004 00AF     		add	r7, sp, #0
 365              	.LCFI22:
 366              		.cfi_def_cfa_register 7
 367 0006 7860     		str	r0, [r7, #4]
 368 0008 3960     		str	r1, [r7]
  90:./Hardware/ATKBLE01.c **** 	uint32_t Result = 1;
 369              		.loc 1 90 11
 370 000a 0123     		movs	r3, #1
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s 			page 9


 371 000c FB60     		str	r3, [r7, #12]
  91:./Hardware/ATKBLE01.c **** 	while (Y --)
 372              		.loc 1 91 8
 373 000e 04E0     		b	.L15
 374              	.L16:
  92:./Hardware/ATKBLE01.c **** 	{
  93:./Hardware/ATKBLE01.c **** 		Result *= X;
 375              		.loc 1 93 10
 376 0010 FB68     		ldr	r3, [r7, #12]
 377 0012 7A68     		ldr	r2, [r7, #4]
 378 0014 02FB03F3 		mul	r3, r2, r3
 379 0018 FB60     		str	r3, [r7, #12]
 380              	.L15:
  91:./Hardware/ATKBLE01.c **** 	while (Y --)
 381              		.loc 1 91 11
 382 001a 3B68     		ldr	r3, [r7]
 383 001c 5A1E     		subs	r2, r3, #1
 384 001e 3A60     		str	r2, [r7]
  91:./Hardware/ATKBLE01.c **** 	while (Y --)
 385              		.loc 1 91 8
 386 0020 002B     		cmp	r3, #0
 387 0022 F5D1     		bne	.L16
  94:./Hardware/ATKBLE01.c **** 	}
  95:./Hardware/ATKBLE01.c **** 	return Result;
 388              		.loc 1 95 9
 389 0024 FB68     		ldr	r3, [r7, #12]
  96:./Hardware/ATKBLE01.c **** }
 390              		.loc 1 96 1
 391 0026 1846     		mov	r0, r3
 392 0028 1437     		adds	r7, r7, #20
 393              	.LCFI23:
 394              		.cfi_def_cfa_offset 4
 395 002a BD46     		mov	sp, r7
 396              	.LCFI24:
 397              		.cfi_def_cfa_register 13
 398              		@ sp needed
 399 002c 5DF8047B 		ldr	r7, [sp], #4
 400              	.LCFI25:
 401              		.cfi_restore 7
 402              		.cfi_def_cfa_offset 0
 403 0030 7047     		bx	lr
 404              		.cfi_endproc
 405              	.LFE130:
 407              		.section	.text.BLE_SendNumber,"ax",%progbits
 408              		.align	1
 409              		.global	BLE_SendNumber
 410              		.syntax unified
 411              		.thumb
 412              		.thumb_func
 414              	BLE_SendNumber:
 415              	.LFB131:
  97:./Hardware/ATKBLE01.c **** 
  98:./Hardware/ATKBLE01.c **** void BLE_SendNumber(uint32_t Number, uint8_t Length)
  99:./Hardware/ATKBLE01.c **** {
 416              		.loc 1 99 1
 417              		.cfi_startproc
 418              		@ args = 0, pretend = 0, frame = 16
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s 			page 10


 419              		@ frame_needed = 1, uses_anonymous_args = 0
 420 0000 80B5     		push	{r7, lr}
 421              	.LCFI26:
 422              		.cfi_def_cfa_offset 8
 423              		.cfi_offset 7, -8
 424              		.cfi_offset 14, -4
 425 0002 84B0     		sub	sp, sp, #16
 426              	.LCFI27:
 427              		.cfi_def_cfa_offset 24
 428 0004 00AF     		add	r7, sp, #0
 429              	.LCFI28:
 430              		.cfi_def_cfa_register 7
 431 0006 7860     		str	r0, [r7, #4]
 432 0008 0B46     		mov	r3, r1
 433 000a FB70     		strb	r3, [r7, #3]
 100:./Hardware/ATKBLE01.c **** 	uint8_t i;
 101:./Hardware/ATKBLE01.c **** 	for (i = 0; i < Length; i ++)
 434              		.loc 1 101 9
 435 000c 0023     		movs	r3, #0
 436 000e FB73     		strb	r3, [r7, #15]
 437              		.loc 1 101 2
 438 0010 1DE0     		b	.L19
 439              	.L20:
 102:./Hardware/ATKBLE01.c **** 	{
 103:./Hardware/ATKBLE01.c **** 		USART1_SendByte(Number / BLE_Pow(10, Length - i - 1) % 10 + '0');
 440              		.loc 1 103 47 discriminator 3
 441 0012 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 442 0014 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 443 0016 D31A     		subs	r3, r2, r3
 444              		.loc 1 103 51 discriminator 3
 445 0018 013B     		subs	r3, r3, #1
 446              		.loc 1 103 28 discriminator 3
 447 001a 1946     		mov	r1, r3
 448 001c 0A20     		movs	r0, #10
 449 001e FFF7FEFF 		bl	BLE_Pow
 450 0022 0246     		mov	r2, r0
 451              		.loc 1 103 26 discriminator 3
 452 0024 7B68     		ldr	r3, [r7, #4]
 453 0026 B3FBF2F1 		udiv	r1, r3, r2
 454              		.loc 1 103 56 discriminator 3
 455 002a 0D4B     		ldr	r3, .L21
 456 002c A3FB0123 		umull	r2, r3, r3, r1
 457 0030 DA08     		lsrs	r2, r3, #3
 458 0032 1346     		mov	r3, r2
 459 0034 9B00     		lsls	r3, r3, #2
 460 0036 1344     		add	r3, r3, r2
 461 0038 5B00     		lsls	r3, r3, #1
 462 003a CA1A     		subs	r2, r1, r3
 463              		.loc 1 103 3 discriminator 3
 464 003c D3B2     		uxtb	r3, r2
 465 003e 3033     		adds	r3, r3, #48
 466 0040 DBB2     		uxtb	r3, r3
 467 0042 1846     		mov	r0, r3
 468 0044 FFF7FEFF 		bl	USART1_SendByte
 101:./Hardware/ATKBLE01.c **** 	{
 469              		.loc 1 101 28 discriminator 3
 470 0048 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s 			page 11


 471 004a 0133     		adds	r3, r3, #1
 472 004c FB73     		strb	r3, [r7, #15]
 473              	.L19:
 101:./Hardware/ATKBLE01.c **** 	{
 474              		.loc 1 101 2 discriminator 1
 475 004e FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 476 0050 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 477 0052 9A42     		cmp	r2, r3
 478 0054 DDD3     		bcc	.L20
 104:./Hardware/ATKBLE01.c **** 	}
 105:./Hardware/ATKBLE01.c **** }
 479              		.loc 1 105 1
 480 0056 00BF     		nop
 481 0058 00BF     		nop
 482 005a 1037     		adds	r7, r7, #16
 483              	.LCFI29:
 484              		.cfi_def_cfa_offset 8
 485 005c BD46     		mov	sp, r7
 486              	.LCFI30:
 487              		.cfi_def_cfa_register 13
 488              		@ sp needed
 489 005e 80BD     		pop	{r7, pc}
 490              	.L22:
 491              		.align	2
 492              	.L21:
 493 0060 CDCCCCCC 		.word	-858993459
 494              		.cfi_endproc
 495              	.LFE131:
 497              		.section	.text.fputc,"ax",%progbits
 498              		.align	1
 499              		.global	fputc
 500              		.syntax unified
 501              		.thumb
 502              		.thumb_func
 504              	fputc:
 505              	.LFB132:
 106:./Hardware/ATKBLE01.c **** 
 107:./Hardware/ATKBLE01.c **** int fputc(int ch, FILE *f)
 108:./Hardware/ATKBLE01.c **** {
 506              		.loc 1 108 1
 507              		.cfi_startproc
 508              		@ args = 0, pretend = 0, frame = 8
 509              		@ frame_needed = 1, uses_anonymous_args = 0
 510 0000 80B5     		push	{r7, lr}
 511              	.LCFI31:
 512              		.cfi_def_cfa_offset 8
 513              		.cfi_offset 7, -8
 514              		.cfi_offset 14, -4
 515 0002 82B0     		sub	sp, sp, #8
 516              	.LCFI32:
 517              		.cfi_def_cfa_offset 16
 518 0004 00AF     		add	r7, sp, #0
 519              	.LCFI33:
 520              		.cfi_def_cfa_register 7
 521 0006 7860     		str	r0, [r7, #4]
 522 0008 3960     		str	r1, [r7]
 109:./Hardware/ATKBLE01.c **** 	USART1_SendByte(ch);
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s 			page 12


 523              		.loc 1 109 2
 524 000a 7B68     		ldr	r3, [r7, #4]
 525 000c DBB2     		uxtb	r3, r3
 526 000e 1846     		mov	r0, r3
 527 0010 FFF7FEFF 		bl	USART1_SendByte
 110:./Hardware/ATKBLE01.c **** 	return ch;
 528              		.loc 1 110 9
 529 0014 7B68     		ldr	r3, [r7, #4]
 111:./Hardware/ATKBLE01.c **** }
 530              		.loc 1 111 1
 531 0016 1846     		mov	r0, r3
 532 0018 0837     		adds	r7, r7, #8
 533              	.LCFI34:
 534              		.cfi_def_cfa_offset 8
 535 001a BD46     		mov	sp, r7
 536              	.LCFI35:
 537              		.cfi_def_cfa_register 13
 538              		@ sp needed
 539 001c 80BD     		pop	{r7, pc}
 540              		.cfi_endproc
 541              	.LFE132:
 543              		.section	.text.BLE_Printf,"ax",%progbits
 544              		.align	1
 545              		.global	BLE_Printf
 546              		.syntax unified
 547              		.thumb
 548              		.thumb_func
 550              	BLE_Printf:
 551              	.LFB133:
 112:./Hardware/ATKBLE01.c **** 
 113:./Hardware/ATKBLE01.c **** void BLE_Printf(char *format, ...)
 114:./Hardware/ATKBLE01.c **** {
 552              		.loc 1 114 1
 553              		.cfi_startproc
 554              		@ args = 4, pretend = 16, frame = 104
 555              		@ frame_needed = 1, uses_anonymous_args = 1
 556 0000 0FB4     		push	{r0, r1, r2, r3}
 557              	.LCFI36:
 558              		.cfi_def_cfa_offset 16
 559              		.cfi_offset 0, -16
 560              		.cfi_offset 1, -12
 561              		.cfi_offset 2, -8
 562              		.cfi_offset 3, -4
 563 0002 80B5     		push	{r7, lr}
 564              	.LCFI37:
 565              		.cfi_def_cfa_offset 24
 566              		.cfi_offset 7, -24
 567              		.cfi_offset 14, -20
 568 0004 9AB0     		sub	sp, sp, #104
 569              	.LCFI38:
 570              		.cfi_def_cfa_offset 128
 571 0006 00AF     		add	r7, sp, #0
 572              	.LCFI39:
 573              		.cfi_def_cfa_register 7
 115:./Hardware/ATKBLE01.c **** 	char String[100];
 116:./Hardware/ATKBLE01.c **** 	va_list arg;
 117:./Hardware/ATKBLE01.c **** 	va_start(arg, format);
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s 			page 13


 574              		.loc 1 117 2
 575 0008 07F17403 		add	r3, r7, #116
 576 000c 3B60     		str	r3, [r7]
 118:./Hardware/ATKBLE01.c **** 	vsprintf(String, format, arg);
 577              		.loc 1 118 2
 578 000e 3B1D     		adds	r3, r7, #4
 579 0010 3A68     		ldr	r2, [r7]
 580 0012 396F     		ldr	r1, [r7, #112]
 581 0014 1846     		mov	r0, r3
 582 0016 FFF7FEFF 		bl	vsprintf
 119:./Hardware/ATKBLE01.c **** 	va_end(arg);
 120:./Hardware/ATKBLE01.c **** 	BLE_SendString(String);
 583              		.loc 1 120 2
 584 001a 3B1D     		adds	r3, r7, #4
 585 001c 1846     		mov	r0, r3
 586 001e FFF7FEFF 		bl	BLE_SendString
 121:./Hardware/ATKBLE01.c **** }
 587              		.loc 1 121 1
 588 0022 00BF     		nop
 589 0024 6837     		adds	r7, r7, #104
 590              	.LCFI40:
 591              		.cfi_def_cfa_offset 24
 592 0026 BD46     		mov	sp, r7
 593              	.LCFI41:
 594              		.cfi_def_cfa_register 13
 595              		@ sp needed
 596 0028 BDE88040 		pop	{r7, lr}
 597              	.LCFI42:
 598              		.cfi_restore 14
 599              		.cfi_restore 7
 600              		.cfi_def_cfa_offset 16
 601 002c 04B0     		add	sp, sp, #16
 602              	.LCFI43:
 603              		.cfi_restore 3
 604              		.cfi_restore 2
 605              		.cfi_restore 1
 606              		.cfi_restore 0
 607              		.cfi_def_cfa_offset 0
 608 002e 7047     		bx	lr
 609              		.cfi_endproc
 610              	.LFE133:
 612              		.text
 613              	.Letext0:
 614              		.file 2 "/Applications/ARM/arm-none-eabi/include/machine/_default_types.h"
 615              		.file 3 "/Applications/ARM/arm-none-eabi/include/sys/_stdint.h"
 616              		.file 4 "./CORE/stm32f4xx.h"
 617              		.file 5 "./Library/stm32f4xx_gpio.h"
 618              		.file 6 "./Library/stm32f4xx_usart.h"
 619              		.file 7 "/Applications/ARM/lib/gcc/arm-none-eabi/10.3.1/include/stdarg.h"
 620              		.file 8 "/Applications/ARM/arm-none-eabi/include/stdio.h"
 621              		.file 9 "/Applications/ARM/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 622              		.file 10 "/Applications/ARM/arm-none-eabi/include/sys/_types.h"
 623              		.file 11 "/Applications/ARM/arm-none-eabi/include/sys/reent.h"
 624              		.file 12 "/Applications/ARM/arm-none-eabi/include/sys/lock.h"
 625              		.file 13 "<built-in>"
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s 			page 14


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ATKBLE01.c
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s:20     .text.BLE_Init:0000000000000000 $t
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s:26     .text.BLE_Init:0000000000000000 BLE_Init
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s:145    .text.BLE_Init:00000000000000a8 $d
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s:152    .text.USART1_SendByte:0000000000000000 $t
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s:158    .text.USART1_SendByte:0000000000000000 USART1_SendByte
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s:208    .text.USART1_SendByte:0000000000000030 $d
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s:213    .text.BLE_SendArray:0000000000000000 $t
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s:219    .text.BLE_SendArray:0000000000000000 BLE_SendArray
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s:278    .text.BLE_SendString:0000000000000000 $t
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s:284    .text.BLE_SendString:0000000000000000 BLE_SendString
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s:344    .text.BLE_Pow:0000000000000000 $t
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s:350    .text.BLE_Pow:0000000000000000 BLE_Pow
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s:408    .text.BLE_SendNumber:0000000000000000 $t
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s:414    .text.BLE_SendNumber:0000000000000000 BLE_SendNumber
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s:493    .text.BLE_SendNumber:0000000000000060 $d
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s:498    .text.fputc:0000000000000000 $t
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s:504    .text.fputc:0000000000000000 fputc
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s:544    .text.BLE_Printf:0000000000000000 $t
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccyf0vP3.s:550    .text.BLE_Printf:0000000000000000 BLE_Printf

UNDEFINED SYMBOLS
RCC_AHB1PeriphClockCmd
RCC_APB2PeriphClockCmd
GPIO_Init
GPIO_PinAFConfig
GPIO_SetBits
USART_Init
USART_Cmd
USART_SendData
USART_GetFlagStatus
vsprintf
