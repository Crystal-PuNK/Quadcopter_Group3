ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"Receiver2.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.global	CH2
  20              		.section	.bss.CH2,"aw",%nobits
  21              		.align	2
  24              	CH2:
  25 0000 00000000 		.space	18
  25      00000000 
  25      00000000 
  25      00000000 
  25      0000
  26              		.global	i2
  27              		.section	.bss.i2,"aw",%nobits
  28              		.align	1
  31              	i2:
  32 0000 0000     		.space	2
  33              		.global	okay2
  34              		.section	.bss.okay2,"aw",%nobits
  35              		.align	1
  38              	okay2:
  39 0000 0000     		.space	2
  40              		.section	.text.REC_Init2,"ax",%progbits
  41              		.align	1
  42              		.global	REC_Init2
  43              		.syntax unified
  44              		.thumb
  45              		.thumb_func
  47              	REC_Init2:
  48              	.LFB123:
  49              		.file 1 "./Hardware/Receiver2.c"
   1:./Hardware/Receiver2.c **** /* Inculdes -------------------------------------------------------------------*/ 
   2:./Hardware/Receiver2.c **** #include "Receiver.h"
   3:./Hardware/Receiver2.c **** 
   4:./Hardware/Receiver2.c **** /* Functions -------------------------------------------------------------------*/ 
   5:./Hardware/Receiver2.c **** uint16_t CH2[9];
   6:./Hardware/Receiver2.c **** uint16_t i2;
   7:./Hardware/Receiver2.c **** uint16_t okay2 = 0;
   8:./Hardware/Receiver2.c **** /*********************************************************************************
   9:./Hardware/Receiver2.c ****  *初始化TIM2定时器  TIM2_CH2
  10:./Hardware/Receiver2.c ****  ********************************************************************************/
  11:./Hardware/Receiver2.c **** void REC_Init2(void)
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s 			page 2


  12:./Hardware/Receiver2.c **** {
  50              		.loc 1 12 1
  51              		.cfi_startproc
  52              		@ args = 0, pretend = 0, frame = 0
  53              		@ frame_needed = 1, uses_anonymous_args = 0
  54              		@ link register save eliminated.
  55 0000 80B4     		push	{r7}
  56              	.LCFI0:
  57              		.cfi_def_cfa_offset 4
  58              		.cfi_offset 7, -4
  59 0002 00AF     		add	r7, sp, #0
  60              	.LCFI1:
  61              		.cfi_def_cfa_register 7
  13:./Hardware/Receiver2.c **** 	RCC->APB1ENR |= 1;   //打开TIM2时钟
  62              		.loc 1 13 15
  63 0004 454B     		ldr	r3, .L2
  64 0006 1B6C     		ldr	r3, [r3, #64]
  65 0008 444A     		ldr	r2, .L2
  66 000a 43F00103 		orr	r3, r3, #1
  67 000e 1364     		str	r3, [r2, #64]
  14:./Hardware/Receiver2.c **** 	RCC->AHB1ENR |= 1;   //打开GPIOA时钟
  68              		.loc 1 14 15
  69 0010 424B     		ldr	r3, .L2
  70 0012 1B6B     		ldr	r3, [r3, #48]
  71 0014 414A     		ldr	r2, .L2
  72 0016 43F00103 		orr	r3, r3, #1
  73 001a 1363     		str	r3, [r2, #48]
  15:./Hardware/Receiver2.c **** 	
  16:./Hardware/Receiver2.c **** 	GPIOA->MODER |= 1<<3; //复用模式
  74              		.loc 1 16 15
  75 001c 404B     		ldr	r3, .L2+4
  76 001e 1B68     		ldr	r3, [r3]
  77 0020 3F4A     		ldr	r2, .L2+4
  78 0022 43F00803 		orr	r3, r3, #8
  79 0026 1360     		str	r3, [r2]
  17:./Hardware/Receiver2.c **** 	GPIOA->OSPEEDR |= 3<<2; //high speed
  80              		.loc 1 17 17
  81 0028 3D4B     		ldr	r3, .L2+4
  82 002a 9B68     		ldr	r3, [r3, #8]
  83 002c 3C4A     		ldr	r2, .L2+4
  84 002e 43F00C03 		orr	r3, r3, #12
  85 0032 9360     		str	r3, [r2, #8]
  18:./Hardware/Receiver2.c **** 	GPIOA->AFR[0] &= ~(0xF<<4);
  86              		.loc 1 18 16
  87 0034 3A4B     		ldr	r3, .L2+4
  88 0036 1B6A     		ldr	r3, [r3, #32]
  89 0038 394A     		ldr	r2, .L2+4
  90 003a 23F0F003 		bic	r3, r3, #240
  91 003e 1362     		str	r3, [r2, #32]
  19:./Hardware/Receiver2.c **** 	GPIOA->AFR[0] |= 1<<4;  //复用AF1
  92              		.loc 1 19 16
  93 0040 374B     		ldr	r3, .L2+4
  94 0042 1B6A     		ldr	r3, [r3, #32]
  95 0044 364A     		ldr	r2, .L2+4
  96 0046 43F01003 		orr	r3, r3, #16
  97 004a 1362     		str	r3, [r2, #32]
  20:./Hardware/Receiver2.c **** 	
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s 			page 3


  21:./Hardware/Receiver2.c **** 	TIM2->ARR |= 65536-1;
  98              		.loc 1 21 12
  99 004c 4FF08043 		mov	r3, #1073741824
 100 0050 DB6A     		ldr	r3, [r3, #44]
 101 0052 4FF08042 		mov	r2, #1073741824
 102 0056 6FEA1343 		mvn	r3, r3, lsr #16
 103 005a 6FEA0343 		mvn	r3, r3, lsl #16
 104 005e D362     		str	r3, [r2, #44]
  22:./Hardware/Receiver2.c **** 	TIM2->PSC |= 16-1;
 105              		.loc 1 22 12
 106 0060 4FF08043 		mov	r3, #1073741824
 107 0064 1B8D     		ldrh	r3, [r3, #40]	@ movhi
 108 0066 9BB2     		uxth	r3, r3
 109 0068 4FF08042 		mov	r2, #1073741824
 110 006c 43F00F03 		orr	r3, r3, #15
 111 0070 9BB2     		uxth	r3, r3
 112 0072 1385     		strh	r3, [r2, #40]	@ movhi
  23:./Hardware/Receiver2.c **** 	
  24:./Hardware/Receiver2.c **** 	TIM2->SMCR |= 6<<4;  //TL2FP2
 113              		.loc 1 24 13
 114 0074 4FF08043 		mov	r3, #1073741824
 115 0078 1B89     		ldrh	r3, [r3, #8]	@ movhi
 116 007a 9BB2     		uxth	r3, r3
 117 007c 4FF08042 		mov	r2, #1073741824
 118 0080 43F06003 		orr	r3, r3, #96
 119 0084 9BB2     		uxth	r3, r3
 120 0086 1381     		strh	r3, [r2, #8]	@ movhi
  25:./Hardware/Receiver2.c **** 	TIM2->SMCR |= 1<<2;  //复位模式 内部时钟源
 121              		.loc 1 25 13
 122 0088 4FF08043 		mov	r3, #1073741824
 123 008c 1B89     		ldrh	r3, [r3, #8]	@ movhi
 124 008e 9BB2     		uxth	r3, r3
 125 0090 4FF08042 		mov	r2, #1073741824
 126 0094 43F00403 		orr	r3, r3, #4
 127 0098 9BB2     		uxth	r3, r3
 128 009a 1381     		strh	r3, [r2, #8]	@ movhi
  26:./Hardware/Receiver2.c **** 	TIM2->CCMR1 |= 1<<8; //IC2映射到TL2上
 129              		.loc 1 26 14
 130 009c 4FF08043 		mov	r3, #1073741824
 131 00a0 1B8B     		ldrh	r3, [r3, #24]	@ movhi
 132 00a2 9BB2     		uxth	r3, r3
 133 00a4 4FF08042 		mov	r2, #1073741824
 134 00a8 43F48073 		orr	r3, r3, #256
 135 00ac 9BB2     		uxth	r3, r3
 136 00ae 1383     		strh	r3, [r2, #24]	@ movhi
  27:./Hardware/Receiver2.c **** 	TIM2->CCMR1 |= 16<<12; //0xF滤波
 137              		.loc 1 27 14
 138 00b0 4FF08042 		mov	r2, #1073741824
 139 00b4 4FF08043 		mov	r3, #1073741824
 140 00b8 128B     		ldrh	r2, [r2, #24]	@ movhi
 141 00ba 92B2     		uxth	r2, r2
 142 00bc 1A83     		strh	r2, [r3, #24]	@ movhi
  28:./Hardware/Receiver2.c **** 	TIM2->CCER |= 1<<4;    //使能捕获寄存器
 143              		.loc 1 28 13
 144 00be 4FF08043 		mov	r3, #1073741824
 145 00c2 1B8C     		ldrh	r3, [r3, #32]	@ movhi
 146 00c4 9BB2     		uxth	r3, r3
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s 			page 4


 147 00c6 4FF08042 		mov	r2, #1073741824
 148 00ca 43F01003 		orr	r3, r3, #16
 149 00ce 9BB2     		uxth	r3, r3
 150 00d0 1384     		strh	r3, [r2, #32]	@ movhi
  29:./Hardware/Receiver2.c **** 	TIM2->DIER |= 1<<2;    //捕获中断使能
 151              		.loc 1 29 13
 152 00d2 4FF08043 		mov	r3, #1073741824
 153 00d6 9B89     		ldrh	r3, [r3, #12]	@ movhi
 154 00d8 9BB2     		uxth	r3, r3
 155 00da 4FF08042 		mov	r2, #1073741824
 156 00de 43F00403 		orr	r3, r3, #4
 157 00e2 9BB2     		uxth	r3, r3
 158 00e4 9381     		strh	r3, [r2, #12]	@ movhi
  30:./Hardware/Receiver2.c **** 	
  31:./Hardware/Receiver2.c **** 	SCB->AIRCR = 0x05FA0000 | 0x500;  //划分优先组 NVIC_PriorityGroup_2
 159              		.loc 1 31 5
 160 00e6 0F4B     		ldr	r3, .L2+8
 161              		.loc 1 31 13
 162 00e8 0F4A     		ldr	r2, .L2+12
 163 00ea DA60     		str	r2, [r3, #12]
  32:./Hardware/Receiver2.c **** 	
  33:./Hardware/Receiver2.c **** 	NVIC->IP[28] = 0x9 << 4;          //抢占优先级2，响应优先级1
 164              		.loc 1 33 6
 165 00ec 0F4B     		ldr	r3, .L2+16
 166              		.loc 1 33 15
 167 00ee 9022     		movs	r2, #144
 168 00f0 83F81C23 		strb	r2, [r3, #796]
  34:./Hardware/Receiver2.c **** 	NVIC->ISER[0] = 1 << 28;          //开启NVIC中断
 169              		.loc 1 34 6
 170 00f4 0D4B     		ldr	r3, .L2+16
 171              		.loc 1 34 16
 172 00f6 4FF08052 		mov	r2, #268435456
 173 00fa 1A60     		str	r2, [r3]
  35:./Hardware/Receiver2.c **** 	
  36:./Hardware/Receiver2.c **** 	TIM2->CR1 |= 1;  //TIM2使能
 174              		.loc 1 36 12
 175 00fc 4FF08043 		mov	r3, #1073741824
 176 0100 1B88     		ldrh	r3, [r3]	@ movhi
 177 0102 9BB2     		uxth	r3, r3
 178 0104 4FF08042 		mov	r2, #1073741824
 179 0108 43F00103 		orr	r3, r3, #1
 180 010c 9BB2     		uxth	r3, r3
 181 010e 1380     		strh	r3, [r2]	@ movhi
  37:./Hardware/Receiver2.c **** }
 182              		.loc 1 37 1
 183 0110 00BF     		nop
 184 0112 BD46     		mov	sp, r7
 185              	.LCFI2:
 186              		.cfi_def_cfa_register 13
 187              		@ sp needed
 188 0114 5DF8047B 		ldr	r7, [sp], #4
 189              	.LCFI3:
 190              		.cfi_restore 7
 191              		.cfi_def_cfa_offset 0
 192 0118 7047     		bx	lr
 193              	.L3:
 194 011a 00BF     		.align	2
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s 			page 5


 195              	.L2:
 196 011c 00380240 		.word	1073887232
 197 0120 00000240 		.word	1073872896
 198 0124 00ED00E0 		.word	-536810240
 199 0128 0005FA05 		.word	100271360
 200 012c 00E100E0 		.word	-536813312
 201              		.cfi_endproc
 202              	.LFE123:
 204              		.section	.text.TIM2_IRQHandler,"ax",%progbits
 205              		.align	1
 206              		.global	TIM2_IRQHandler
 207              		.syntax unified
 208              		.thumb
 209              		.thumb_func
 211              	TIM2_IRQHandler:
 212              	.LFB124:
  38:./Hardware/Receiver2.c **** 
  39:./Hardware/Receiver2.c **** void TIM2_IRQHandler(void)
  40:./Hardware/Receiver2.c **** {
 213              		.loc 1 40 1
 214              		.cfi_startproc
 215              		@ args = 0, pretend = 0, frame = 8
 216              		@ frame_needed = 1, uses_anonymous_args = 0
 217              		@ link register save eliminated.
 218 0000 80B4     		push	{r7}
 219              	.LCFI4:
 220              		.cfi_def_cfa_offset 4
 221              		.cfi_offset 7, -4
 222 0002 83B0     		sub	sp, sp, #12
 223              	.LCFI5:
 224              		.cfi_def_cfa_offset 16
 225 0004 00AF     		add	r7, sp, #0
 226              	.LCFI6:
 227              		.cfi_def_cfa_register 7
  41:./Hardware/Receiver2.c **** 	if ((TIM2->SR & (1<<2))!=0)
 228              		.loc 1 41 11
 229 0006 4FF08043 		mov	r3, #1073741824
 230 000a 1B8A     		ldrh	r3, [r3, #16]	@ movhi
 231 000c 9BB2     		uxth	r3, r3
 232              		.loc 1 41 16
 233 000e 03F00403 		and	r3, r3, #4
 234              		.loc 1 41 5
 235 0012 002B     		cmp	r3, #0
 236 0014 35D0     		beq	.L8
 237              	.LBB2:
  42:./Hardware/Receiver2.c **** 	{
  43:./Hardware/Receiver2.c **** 		uint16_t CCR2 = TIM2->CCR2;
 238              		.loc 1 43 23
 239 0016 4FF08043 		mov	r3, #1073741824
 240 001a 9B6B     		ldr	r3, [r3, #56]
 241              		.loc 1 43 12
 242 001c FB80     		strh	r3, [r7, #6]	@ movhi
  44:./Hardware/Receiver2.c **** 		if((CCR2 >= 3500) && (CCR2<= 11500)){
 243              		.loc 1 44 5
 244 001e FB88     		ldrh	r3, [r7, #6]
 245 0020 40F6AB52 		movw	r2, #3499
 246 0024 9342     		cmp	r3, r2
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s 			page 6


 247 0026 0AD9     		bls	.L6
 248              		.loc 1 44 21 discriminator 1
 249 0028 FB88     		ldrh	r3, [r7, #6]
 250 002a 42F6EC42 		movw	r2, #11500
 251 002e 9342     		cmp	r3, r2
 252 0030 05D8     		bhi	.L6
  45:./Hardware/Receiver2.c **** 			okay2 = 1;
 253              		.loc 1 45 10
 254 0032 174B     		ldr	r3, .L9
 255 0034 0122     		movs	r2, #1
 256 0036 1A80     		strh	r2, [r3]	@ movhi
  46:./Hardware/Receiver2.c **** 			i2=0;
 257              		.loc 1 46 6
 258 0038 164B     		ldr	r3, .L9+4
 259 003a 0022     		movs	r2, #0
 260 003c 1A80     		strh	r2, [r3]	@ movhi
 261              	.L6:
  47:./Hardware/Receiver2.c **** 		}
  48:./Hardware/Receiver2.c **** 		if(okay2==1){
 262              		.loc 1 48 11
 263 003e 144B     		ldr	r3, .L9
 264 0040 1B88     		ldrh	r3, [r3]
 265              		.loc 1 48 5
 266 0042 012B     		cmp	r3, #1
 267 0044 13D1     		bne	.L7
  49:./Hardware/Receiver2.c **** 			CH2[i2] = CCR2;
 268              		.loc 1 49 7
 269 0046 134B     		ldr	r3, .L9+4
 270 0048 1B88     		ldrh	r3, [r3]
 271 004a 1946     		mov	r1, r3
 272              		.loc 1 49 12
 273 004c 124A     		ldr	r2, .L9+8
 274 004e FB88     		ldrh	r3, [r7, #6]	@ movhi
 275 0050 22F81130 		strh	r3, [r2, r1, lsl #1]	@ movhi
  50:./Hardware/Receiver2.c **** 			i2++;
 276              		.loc 1 50 6
 277 0054 0F4B     		ldr	r3, .L9+4
 278 0056 1B88     		ldrh	r3, [r3]
 279 0058 0133     		adds	r3, r3, #1
 280 005a 9AB2     		uxth	r2, r3
 281 005c 0D4B     		ldr	r3, .L9+4
 282 005e 1A80     		strh	r2, [r3]	@ movhi
  51:./Hardware/Receiver2.c **** 			if(i2>=9){
 283              		.loc 1 51 9
 284 0060 0C4B     		ldr	r3, .L9+4
 285 0062 1B88     		ldrh	r3, [r3]
 286              		.loc 1 51 6
 287 0064 082B     		cmp	r3, #8
 288 0066 02D9     		bls	.L7
  52:./Hardware/Receiver2.c **** 				okay2 = 0;
 289              		.loc 1 52 11
 290 0068 094B     		ldr	r3, .L9
 291 006a 0022     		movs	r2, #0
 292 006c 1A80     		strh	r2, [r3]	@ movhi
 293              	.L7:
  53:./Hardware/Receiver2.c **** 			}
  54:./Hardware/Receiver2.c **** 		}
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s 			page 7


  55:./Hardware/Receiver2.c **** 		TIM2->SR &= (uint16_t)~0x4;
 294              		.loc 1 55 12
 295 006e 4FF08043 		mov	r3, #1073741824
 296 0072 1B8A     		ldrh	r3, [r3, #16]	@ movhi
 297 0074 9BB2     		uxth	r3, r3
 298 0076 4FF08042 		mov	r2, #1073741824
 299 007a 23F00403 		bic	r3, r3, #4
 300 007e 9BB2     		uxth	r3, r3
 301 0080 1382     		strh	r3, [r2, #16]	@ movhi
 302              	.L8:
 303              	.LBE2:
  56:./Hardware/Receiver2.c **** 	}
  57:./Hardware/Receiver2.c **** }
 304              		.loc 1 57 1
 305 0082 00BF     		nop
 306 0084 0C37     		adds	r7, r7, #12
 307              	.LCFI7:
 308              		.cfi_def_cfa_offset 4
 309 0086 BD46     		mov	sp, r7
 310              	.LCFI8:
 311              		.cfi_def_cfa_register 13
 312              		@ sp needed
 313 0088 5DF8047B 		ldr	r7, [sp], #4
 314              	.LCFI9:
 315              		.cfi_restore 7
 316              		.cfi_def_cfa_offset 0
 317 008c 7047     		bx	lr
 318              	.L10:
 319 008e 00BF     		.align	2
 320              	.L9:
 321 0090 00000000 		.word	okay2
 322 0094 00000000 		.word	i2
 323 0098 00000000 		.word	CH2
 324              		.cfi_endproc
 325              	.LFE124:
 327              		.text
 328              	.Letext0:
 329              		.file 2 "/Applications/ARM/arm-none-eabi/include/machine/_default_types.h"
 330              		.file 3 "/Applications/ARM/arm-none-eabi/include/sys/_stdint.h"
 331              		.file 4 "./CORE/core_cm4.h"
 332              		.file 5 "./CORE/stm32f4xx.h"
 333              		.file 6 "./Hardware/Receiver.h"
ARM GAS  /var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s 			page 8


DEFINED SYMBOLS
                            *ABS*:0000000000000000 Receiver2.c
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s:24     .bss.CH2:0000000000000000 CH2
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s:21     .bss.CH2:0000000000000000 $d
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s:31     .bss.i2:0000000000000000 i2
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s:28     .bss.i2:0000000000000000 $d
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s:38     .bss.okay2:0000000000000000 okay2
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s:35     .bss.okay2:0000000000000000 $d
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s:41     .text.REC_Init2:0000000000000000 $t
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s:47     .text.REC_Init2:0000000000000000 REC_Init2
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s:196    .text.REC_Init2:000000000000011c $d
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s:205    .text.TIM2_IRQHandler:0000000000000000 $t
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s:211    .text.TIM2_IRQHandler:0000000000000000 TIM2_IRQHandler
/var/folders/yl/_q9l42k90g1g4mdhbs226msm0000gn/T//ccKwShI5.s:321    .text.TIM2_IRQHandler:0000000000000090 $d

NO UNDEFINED SYMBOLS
